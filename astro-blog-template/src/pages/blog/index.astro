---
import Layout from "../../layouts/Layout.astro";
import { getCollection } from "astro:content";
import PostCard from "../../components/blog/PostCard.astro";
const posts = await getCollection("posts");
const title = "Bienvenidos a nuestro blog.";
const description =
  "Bienvenidos a nuestro blog donde compartimos artículos sobre desarrollo web, Astro y más.";
const sortedPosts = posts.sort(
  (a, b) => b.data.date.getTime() - a.data.date.getTime(),
);
---

<Layout title={title} description={description}>
  <main role="main" class="max-w-6xl mx-auto">
    <section class="mx-auto max-w-7xl py-16">
      <!-- Header -->
      <header class="mb-10 flex items-end justify-between">
        <div>
          <h1 class="text-3xl font-bold text-white">Blog</h1>
          <p class="mt-2 text-slate-400">
            Artículos sobre frontend, Astro y performance.
          </p>
        </div>
      </header>
      <div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
        {
          sortedPosts.map((post) => (
            <PostCard slug={post.slug} {...post.data} />
          ))
        }
      </div>
    </section>
  </main>
</Layout>
